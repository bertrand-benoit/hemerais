About
-----
Hemera is a Virtual Intelligent System aggregating some more advanced Artificial Intelligence Technologies (speech, speech recognition, form recognition ...); with applications in day tasks, domotics and robotics ...

Quick Start
-----------
 - to get speech samples
svn co https://hemerais.svn.sourceforge.net/svnroot/hemerais/trunk/samples

Installation
------------
 - get the source code
svn co https://hemerais.svn.sourceforge.net/svnroot/hemerais/trunk/hemera

REQUIREMENTS
------------
Each core piece requires third party element.
 Speech
 -------
 - espeak
   - yum install espeak
   - ensure espeak binary is into the path or update the configuration file
TODO: create configuration file system
   
 - mbrola
   - download the binary http://www.tcts.fpms.ac.be/synthesis/mbrola/bin/pclinux/mbr301h.zip
   - rename the wanted version to thirdParty/speech/bin/mbrola
   
 - language file
   - download language fr4 -> http://www.tcts.fpms.ac.be/synthesis/mbrola/dba/fr4/fr4-990521.zip
   - rename the fr4 file to thirdParty/speech/data/language/fr4


 Speech Recognition
 -------------------
 - sphinx3
   - yum install cmusphinx3
   - ensure sphinx3_XXX binaries is into the path or update the configuration file
TODO: create configuration file system
TODO: make sphinx3 case sensitive (thx to option or after source code update)

Install cmusphinx3 from source code
  - requirements: yum install libtool automake libsndfile libsndfile-devel
  - svn co https://cmusphinx.svn.sourceforge.net/svnroot/cmusphinx/trunk/sphinxbase
  - svn co https://cmusphinx.svn.sourceforge.net/svnroot/cmusphinx/trunk/sphinx3
  
  - WARNING: to have case sensitive dictionary (which is requested with LIUM models), you must patch the source code
TODO: create a patch file
    - edit the line 377 of the file src/libs3decoder/libdict/dict.c of the sphinx3 project, replacing
d->ht = hash_table_new(d->max_words, 1 /* no-case */ );
by
d->ht = hash_table_new(d->max_words, HASH_CASE_YES );

  - WARNING: it seems using a x86-64 version of sphinx3_decode with utf8 language model fails in segmentation fault (no problem with i386)
TODO: define option to compile in i386/i586/i686 under x86_64 OS
  - then launch ./autogen.sh, ./configure and make install (See sphinx project README files)

 - models files; download them and put them under corresponding subfolder of thirdParty/speechRecognition/data/models
   - Language model (LM)
     - download http://liumtools.univ-lemans.fr/speechLIUMtools/Downloads/linguistic_resources/LM/trigram_LM.tar
WARNING: language file must be converted in UTF-8 (it must be convert before and after)
sphinx3_lm_convert does not seem to support utf8 encoding, but sphinx_lm_convert does (coming with sphinxbase).
sphinx_lm_convert -i trigram_LM.DMP -ifmt DMP -ienc iso8859-1 -o trigram_LM.DMP.utf8 -oenc utf8 -ofmt DMP
     
   - Lexical model
     - download http://liumtools.univ-lemans.fr/speechLIUMtools/Downloads/linguistic_resources/dictionary/words_dict.gz
     - download http://liumtools.univ-lemans.fr/speechLIUMtools/Downloads/linguistic_resources/dictionary/fillers_dict.gz
WARNING: lexical files must be converted in UTF-8:
mv fillers_dict fillers_dictOld && iconv -f iso88591 -t utf8 fillers_dictOld > fillers_dict
mv words_dict fillers_dictOld && iconv -f iso88591 -t utf8 words_dictOld > words_dict
   - Acoustic model
     - download http://liumtools.univ-lemans.fr/speechLIUMtools/Downloads/acoustic_resources/lium_acoustic_models.tgz

  - sox: Audio file converter
    - yum install sox
    - ensure vox binary is into the path or update the configuration file
TODO: create configuration file system

  - wave2feat: Feature file creator (included into SphinxTrain project)
    - get the source code
svn co https://cmusphinx.svn.sourceforge.net/svnroot/cmusphinx/trunk/SphinxTrain
    - configure/compile with wanted options
    - move wave2feat (from the created bin.XXX sub-directory) to thirdParty/speechRecognition/bin

